# [Exploitation Basics]

**TryHackMe Path**: [Cyber Security 101]  
**Lab Topic**: [Blue]  
**Date Completed**: [09/05/2025]

---

## ðŸ§  Summary

> In this lab, I learned about the importance of understanding how a Windows machine is attacked, which is that it is essential for becoming an effective defender, pentester, or SOC analyst, because you're learning
how to defend against people who attack the Windows machine. Finally, I learned about the importance of understanding how to leverage common misconfiguration issues, which are the most common real-world
security gaps, they demonstrate realistic attack paths, and they directly inform stronger defenses.

---

## ðŸŽ¯ Objectives
- [ ] Learn how to hack into a windows machine
- [ ] Learn how to leverage common misconfiguration issues
      
---

## ðŸ§° Tools Used
- THM AttackBox
- THM Metasploit

---


## ðŸ“Š Analysis & Screenshots

*** Recon ***

> After launching the THM AttackBox, I launched the terminal application and was given a task to scan and determine the exploit the machine was vulnerable to. To do this, I first had to
scan the machine using nmap by inputting the command "nmap -sV -vv --script vuln 10.201.19.15," then "enter."

> <img width="608" height="113" alt="blue1" src="https://github.com/user-attachments/assets/fc83f7c7-4a24-4f73-b2d6-3f1ddeda9ed2" />

> After the scan was complete, I then had to figure out how many ports were open with a port number under 1000. I figured it out by scrolling through the nmap scan information and saw that there were three
open ports with a port number under 1000.

> <img width="972" height="170" alt="blue2" src="https://github.com/user-attachments/assets/fac76077-9e30-4053-9a99-fa8481fc4638" />

> I then had to determine which exploit the machine was vulnerable to. To find this, I scrolled through the results and looked under "Host script results," where I saw that it was vulnerable to "ms17-010."

> <img width="753" height="230" alt="blue3" src="https://github.com/user-attachments/assets/1e53b56f-7a9d-4df0-bc49-c8e24d68fad7" />

*** Gain Access ***

> I was then given a practical to gain access to the Windows shell. To do this, I first had to launch Metasploit by inputting the command "msfconsole," then "enter." I then had to find the exploitation code to
run against the machine. I achieved this by entering the command "search ms17" followed by "enter," which revealed the exploitation code that needed to be run. The full path of the code was
"exploit/windows/smb/ms17_010_eternalblue."

> <img width="1437" height="160" alt="blue4" src="https://github.com/user-attachments/assets/6d438c77-2ede-4d70-bfe2-79d74fa54996" />

> Next, I had to set RHOSTS to the target machine's IP address. To do this, I input the command "set RHOSTS 10.201.83.152," then enter. Before exploiting the target, I also had to set the payload to
"windows/x64/shell/reverse_tcp."

> <img width="837" height="112" alt="blue5" src="https://github.com/user-attachments/assets/1a751257-3279-4925-8600-f3f148fef562" />

> I then input the command "show options" and press "enter" to confirm that everything was set correctly.

> <img width="911" height="604" alt="blue6" src="https://github.com/user-attachments/assets/07ea8a96-c005-4d0f-ae1c-5b29e099722d" />

> Then "run," then "enter" to carry out the exploit.

> <img width="1135" height="706" alt="blue7" src="https://github.com/user-attachments/assets/caa6e5a1-ab3a-4538-ade7-81ff429d5d74" />

*** Escalate ***

> Next, I had to convert the Windows shell to a Meterpreter shell after backgrounding the gained shell. To do this, I first backgrounded the shell by pressing "^+Z," then "y." After backgrounding, I then
input the command "sessions," then "enter" to get the session ID to convert, and saw that the session ID was "1." To convert it, I entered the command "sessions -u 1" and then pressed "enter."

> <img width="1323" height="341" alt="blue8" src="https://github.com/user-attachments/assets/d552aba1-feb7-4bf5-a54f-9f7a48ba5977" />

> I then had to change modules to "post/multi/manage/shell_to_meterpreter" by inputting "use post/multi/manage/shell_to_meterpreter," then "enter," then "show options," then "enter" to see what needed to be filled
out and saw that the option "SESSION" needed to be filled out.

> <img width="1168" height="309" alt="blue9" src="https://github.com/user-attachments/assets/1c2f2929-725d-4258-96de-7cdee7ffb981" />

> I then input the command "set session 1" and press "enter" to set the SESSION option to 1. Next, I entered the command "run" followed by "enter" to execute the shell and meterpreter module.

> <img width="856" height="366" alt="blue10" src="https://github.com/user-attachments/assets/f863d6cc-c16d-4023-963a-342cf6484d3c" />

> I then had to select the meterpreter session after the conversion was complete by inputting the command "sessions 2."

> <img width="579" height="87" alt="blue11" src="https://github.com/user-attachments/assets/311aa81c-c8b0-4467-922e-16eb5758d2bd" />

> Next, I had to verify that the target machine was escalated to NT AUTHORITY\SYSTEM. To do this, I input the command "getuid," then "enter." This then displayed the server username as "NT AUTHORITY\SYSTEM."

> <img width="375" height="39" alt="blue13" src="https://github.com/user-attachments/assets/e36d236c-d9f3-4eb9-8002-995e62d06480" />

> Following, I had to list all the processes running and select a process that was running on the "NT AUTHORITY\SYSTEM." To do this, I input the command "ps," then "enter." I then selected the process "3040"

> <img width="1326" height="757" alt="blue14" src="https://github.com/user-attachments/assets/562b1223-1d75-44aa-96b2-e0ad26ba70fb" />

> Next, I had to migrate to that process. To do this, I input the command "migrate 3040," then "enter."

> <img width="359" height="56" alt="blue15" src="https://github.com/user-attachments/assets/02ab4014-531d-44cc-8501-d5f3aad35993" />

> Using the elevated Meterpreter shell, I had to dump all the passwords on the machine to figure out the name of the non-default user. To do this, I input the command "hashdump," then "enter." This then
displayed the non-default user "Jon."

> <img width="824" height="79" alt="blue16" src="https://github.com/user-attachments/assets/b03bdb61-93c1-4a66-b100-ba0fded82d95" />

> Next, I had to crack "Jon "'s non-default user's hash to find his cracked password. To do so, I had to Google a free hash password cracker and select the "crackstation.net" hash password cracker. I then
inputted the hash of "ffb43f0de35be4d9917ac0cc8ad57f8d" and got the cracked password of "alqfna22."

> <img width="1118" height="421" alt="blue17" src="https://github.com/user-attachments/assets/455a907e-5682-4198-84f0-df4ad257aeda" />

*** Find flag! ***

> I was given a practical to find three planted flags on the target machine. For the first flag, I had to find it in the root folder. To do this, I input the command "cd /," then "enter," then "ls," then
"enter" to list all the files and folders within the root directory. After locating the first flag "flag1.txt," I input the command "cat flag1.txt," then "enter." This then displayed the flag of
"flag{access_the_machine}."

> <img width="779" height="421" alt="blue18" src="https://github.com/user-attachments/assets/d411a7c8-d9cd-4e5c-87bc-ea02e0df0271" />

> The next flag was "flag2.txt." For me to find this flag, I had to first change the directory to "C:\Windows\System32\config" by inputting the command "cd Windows\\System32\\config\\,"
then "enter," then "ls," then "enter" to list all the files in that directory.

> <img width="654" height="107" alt="blue19" src="https://github.com/user-attachments/assets/4ba5441e-34f6-4321-8640-edfeb950314b" />

> After locating the flag "flag2.txt" within the directory, I entered "cat flag2.txt," then "enter," and obtained the flag "flag{sam_database_elevated_access}."

> <img width="523" height="59" alt="blue20" src="https://github.com/user-attachments/assets/eb73c7de-78d2-4fe0-8e0b-b0ca44ebbb59" />

> For the last flag, which was "flag3.txt," I had to get to the "Documents" folder of the administrator user "Jon." To do this, I first input the command "cd /", which brought me back to the root folder, then "ls,"
then "enter" to list all the folders within the root folder.

>  <img width="782" height="374" alt="blue21" src="https://github.com/user-attachments/assets/6c8e3292-43fe-4902-a318-0467c7b63449" />

> After locating the "User" directory, I entered the command "cd User\\," followed by "enter," then "ls," and finally "enter" to view all the Users available.

> <img width="668" height="252" alt="blue22" src="https://github.com/user-attachments/assets/cf1c250a-4e2b-4f5e-8077-f5f906fbaf32" />

> After locating the "Jon" user, I input the command "cd Jon\\," then "enter," then "ls," then "enter" to get to that user and list all the files and folders within that user

> <img width="424" height="80" alt="blue23" src="https://github.com/user-attachments/assets/9cc56586-9f32-4379-a891-41a324092a40" />

> Spotting the "Documents" folder within the "Jon" user, I then input the command "cd Document\\," then "enter" to get into the folder, then input the command "ls," then "enter" to list the contents of the
folder.

> <img width="641" height="263" alt="blue24" src="https://github.com/user-attachments/assets/b1ab452d-13af-4b24-be2d-026f8e479b28" />

> After listing the contents, I entered the command "cat flag3.txt" and pressed "enter" to display the flag's contents, which revealed "flag{admin_documents_can_be_valuable}."

> <img width="496" height="39" alt="blue25" src="https://github.com/user-attachments/assets/b8257d5a-e240-426b-bf15-fdcbcc461cfc" />

---

## Reflection

> This lab provided me with knowledge about hacking into a Windows machine, which gave me a look into how attackers attack Windows machines and how to defend against the attacks.
